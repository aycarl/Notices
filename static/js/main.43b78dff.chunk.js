(this.webpackJsonpnotices=this.webpackJsonpnotices||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),c=a.n(o),l=a(18),i=a(61),s=(a(86),a(87),a(8)),u=a.n(s),m=a(21),d=a(10),p=a(22),h=a(23),b=a(24),f=a(25),g=a(74),v=a(26),E=a(16),y=Object(E.a)([function(e){return e.noticeBoard}],(function(e){return e.notices})),w=Object(E.a)([function(e){return e.user}],(function(e){return e.currentUser})),O=a(109),j=a(107),N=a(112),C=function(e){var t=e.id,a=e.isQuote,n=e.alignment,o=e.citation,c=e.title,l=e.body,i=e.timestamp;return r.a.createElement("div",null,a?r.a.createElement(N.a,{className:n,key:t},r.a.createElement("blockquote",{className:"blockquote mb-0 card-body"},r.a.createElement("p",null,l),r.a.createElement("footer",{className:"blockquote-footer"},r.a.createElement("small",{className:"text-muted"},r.a.createElement("cite",{title:"Source Title"},o))))):r.a.createElement(N.a,{bg:"light",text:"dark",key:t},r.a.createElement(N.a.Body,null,r.a.createElement(N.a.Title,null,c),r.a.createElement(N.a.Text,null,l)),r.a.createElement(N.a.Footer,null,r.a.createElement("small",{className:"text-muted"},i))))},k=function(e){var t=e.notices;return r.a.createElement(j.a,null,t.map((function(e){var t=e.noticeId,a=e.quoteIndicator,n=e.createdAt,o=e.quoteAlignment,c=e.quoteCitation,l=e.body,i=e.title;return r.a.createElement(C,{key:t,id:t,isQuote:a,title:i,body:l,timestamp:n,alignment:o,citation:c})})))},x=a(34),S=a(31),I=a(110),A=a(111),q=a(67),U=a(108),P=a(33),_=a.n(P),B=(a(89),a(92),function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n,r,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=D.doc("users/".concat(t.uid)),e.next=5,n.get();case 5:if(e.sent.exists){e.next=17;break}return r=t.displayName,o=t.email,c=new Date,e.prev=9,e.next=12,n.set(Object(m.a)({displayName:r,email:o,createdAt:c},a));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("error creating user",e.t0.message);case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,a){return e.apply(this,arguments)}}()),G=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n,r,o,c,l,i,s,m,d,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return n=D.collection("notices"),r=n.doc(),e.next=6,r.get();case 6:if(e.sent.exists){e.next=19;break}return o=t.title,c=t.body,l=t.noticeId,i=t.quoteCitation,s=t.quoteIndicator,m=t.quoteAlignment,d=a.displayName,p=(new Date).toDateString(),e.prev=11,e.next=14,r.set({displayName:d,createdAt:p,noticeId:l,title:o,body:c,quoteCitation:i,quoteIndicator:s,quoteAlignment:m});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(11),console.log("error creating new post",e.t0.message);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e,null,[[11,16]])})));return function(t,a){return e.apply(this,arguments)}}();_.a.initializeApp({apiKey:"AIzaSyBbMywh6LAfqvKuSEc7rnAelCpIvJJ9nKg",authDomain:"notice-db.firebaseapp.com",databaseURL:"https://notice-db.firebaseio.com",projectId:"notice-db",storageBucket:"notice-db.appspot.com",messagingSenderId:"785859186736",appId:"1:785859186736:web:cb0ddb82532fde6c9addf5",measurementId:"G-0W1CCYPP8N"});var T=_.a.auth(),D=_.a.firestore(),L=new _.a.auth.GoogleAuthProvider;L.setCustomParameters({prompt:"select_account"});var F=function(){return T.signInWithPopup(L)},K=(_.a,a(94),function(e){var t=e.currentUser,a=(e.addNotice,Object(S.a)(e,["currentUser","addNotice"])),o=Object(n.useState)(""),c=Object(x.a)(o,2),l=c[0],i=c[1],s=Object(n.useState)(""),m=Object(x.a)(s,2),p=m[0],h=m[1],b=Object(n.useState)(""),f=Object(x.a)(b,2),g=f[0],v=f[1],E=Object(n.useState)(!1),y=Object(x.a)(E,2),w=y[0],O=y[1],j=Object(n.useState)(""),N=Object(x.a)(j,2),C=N[0],k=N[1],P=function(){var e=Object(d.a)(u.a.mark((function e(a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=new Date,r={noticeId:n.getTime().toString(),title:l,body:p,quoteCitation:g,quoteIndicator:w,quoteAlignment:C},e.prev=3,e.next=6,G(r,t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log("error message",e.t0.message);case 11:console.log("This was typed "+l+" "+p),h(""),i(""),k("");case 15:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(I.a,Object.assign({},a,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(A.a,{onSubmit:P},r.a.createElement(I.a.Header,{closeButton:!0},r.a.createElement(I.a.Title,{id:"contained-modal-title-vcenter"},"New Notice")),r.a.createElement(I.a.Body,null,r.a.createElement(A.a.Group,{controlId:"formGroupNoticeTitle"},r.a.createElement(A.a.Label,null,"Title"),r.a.createElement(A.a.Control,{type:"text",placeholder:"Enter notice title (if not a quote)",value:l,onChange:function(e){return i(e.target.value)},disabled:w})),r.a.createElement(A.a.Group,{controlId:"formGroupNoticeBody"},r.a.createElement(A.a.Label,null,"Body"),r.a.createElement(A.a.Control,{as:"textarea",rows:"3",placeholder:"Enter notice text/quote (250 chars max)",value:p,onChange:function(e){return h(e.target.value)}})),r.a.createElement(A.a.Row,null,r.a.createElement(A.a.Group,{as:q.a,controlId:"formGroupFileInput"},r.a.createElement(A.a.Label,null,"Image/Poster (optional)"),r.a.createElement(A.a.File.Input,null)),r.a.createElement(A.a.Group,{as:q.a,controlId:"formQuoteToggle"},r.a.createElement(A.a.Check,{type:"switch",label:"This is a quote.",onChange:function(e){O(!w)}}))),r.a.createElement(A.a.Row,null,r.a.createElement(A.a.Group,{as:q.a,controlId:"formQuoteCitation"},r.a.createElement(A.a.Label,null,"Quote Citation"),r.a.createElement(A.a.Control,{type:"text",placeholder:"Enter citation (name, source, ...)",value:g,onChange:function(e){return v(e.target.value)},disabled:!w})),r.a.createElement(A.a.Group,{as:q.a,controlId:"formQuoteAlignment"},r.a.createElement(A.a.Label,null,"Quote Text Alignment"),r.a.createElement(A.a.Control,{as:"select",disabled:!w,value:C,onChange:function(e){return k(e.target.value)}},r.a.createElement("option",{value:"text-right"},"Right Align"),r.a.createElement("option",{value:"text-left"},"Left Align"),r.a.createElement("option",{value:"text-center"},"Center Align"))))),r.a.createElement(I.a.Footer,null,r.a.createElement(U.a,{variant:"secondary",className:"cancel-button",onClick:a.onHide},"Cancel"),r.a.createElement(U.a,{className:"submit-button",type:"submit"},"Add"))))}),W=(a(96),function(e){var t=e.children,a=e.isGoogleSignIn,n=Object(S.a)(e,["children","isGoogleSignIn"]);return r.a.createElement(U.a,Object.assign({className:"".concat(a?"google-sign-in":""," custom-button")},n),t)}),R=(a(59),function(e){Object(f.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).toggleModal=function(){var e=n.state.modalShow;n.setState({modalShow:!e})},n.state={modalShow:!1},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props,t=e.currentUser,a=e.notices,n=this.state.modalShow;return r.a.createElement(O.a,{fluid:!0,className:"page"},t?r.a.createElement(W,{className:"addNoticeBtn",size:"lg",block:!0,onClick:this.toggleModal},"Add Notice"):null,r.a.createElement(K,{show:n,onHide:this.toggleModal,currentUser:t}),r.a.createElement(k,{notices:a}))}}]),a}(n.Component)),Q=Object(E.b)({currentUser:w,notices:y}),M=Object(l.b)(Q)(R),z=function(){return r.a.createElement(O.a,{fluid:!0,className:"page"},r.a.createElement("h1",null,"About"),r.a.createElement("hr",null),r.a.createElement("p",null,"This is a simple virtual notice board application."),r.a.createElement("p",null,"Feel free to catch up with random posts and add yours too!"))},H=Object(l.b)((function(e){return{currentUser:e.user.currentUser}}))((function(e){var t=e.currentUser;return console.log(t),r.a.createElement(O.a,{fluid:!0,className:"page"},r.a.createElement("h1",null,"Profile"),r.a.createElement("hr",null),r.a.createElement("p",null,"No data yet"))})),J=a(30),Y=(a(97),function(e){var t=e.handleChange,a=e.label,n=Object(S.a)(e,["handleChange","label"]);return r.a.createElement("div",{className:"group"},r.a.createElement("input",Object.assign({className:"form-input",onChange:t},n)),a?r.a.createElement("label",{className:"".concat(n.value.length?"shrink":""," form-input-label")},a):null)}),$=(a(98),function(e){Object(f.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this)).handleSubmit=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=n.state,r=a.email,o=a.password,e.prev=2,e.next=5,T.signInWithEmailAndPassword(r,o);case 5:n.setState({email:"",password:""}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e){var t=e.target,a=t.value,r=t.name;n.setState(Object(J.a)({},r,a))},n.state={email:"",password:""},n}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"sign-in"},r.a.createElement("h2",null,"I already have an account"),r.a.createElement("span",null,"Sign in with your email and password"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(Y,{name:"email",type:"email",value:this.state.email,handleChange:this.handleChange,label:"email",required:!0}),r.a.createElement(Y,{name:"password",type:"password",value:this.state.password,handleChange:this.handleChange,label:"password",required:!0}),r.a.createElement("div",{className:"buttons"},r.a.createElement(W,{type:"submit"},"Sign In"),r.a.createElement(W,{onClick:F,isGoogleSignIn:!0},"Google Sign In"))))}}]),a}(r.a.Component)),V=(a(99),function(e){Object(f.a)(a,e);var t=Object(b.a)(a);function a(){var e;return Object(p.a)(this,a),(e=t.call(this)).handleSubmit=function(){var t=Object(d.a)(u.a.mark((function t(a){var n,r,o,c,l,i,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state,r=n.displayName,o=n.email,c=n.password,l=n.confirmPassword,c===l){t.next=5;break}return alert("Passwords don't match"),t.abrupt("return");case 5:return t.prev=5,t.next=8,T.createUserWithEmailAndPassword(o,c);case 8:return i=t.sent,s=i.user,t.next=12,B(s,{displayName:r});case 12:e.setState({displayName:"",email:"",password:"",confirmPassword:""}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(5),console.error(t.t0);case 18:case"end":return t.stop()}}),t,null,[[5,15]])})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(J.a)({},n,r))},e.state={displayName:"",email:"",password:"",confirmPassword:""},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this.state,t=e.displayName,a=e.email,n=e.password,o=e.confirmPassword;return r.a.createElement("div",{className:"sign-up"},r.a.createElement("h2",{className:"title"},"I do not have an account"),r.a.createElement("span",null,"Sign up with your email and password"),r.a.createElement("form",{className:"sign-up-form",onSubmit:this.handleSubmit},r.a.createElement(Y,{type:"text",name:"displayName",value:t,onChange:this.handleChange,label:"Display Name",required:!0}),r.a.createElement(Y,{type:"email",name:"email",value:a,onChange:this.handleChange,label:"Email",required:!0}),r.a.createElement(Y,{type:"password",name:"password",value:n,onChange:this.handleChange,label:"Password",required:!0}),r.a.createElement(Y,{type:"password",name:"confirmPassword",value:o,onChange:this.handleChange,label:"Confirm Password",required:!0}),r.a.createElement(W,{type:"submit"},"SIGN UP")))}}]),a}(r.a.Component)),X=(a(100),function(){return r.a.createElement("div",{className:"sign-in-and-sign-up"},r.a.createElement($,null),r.a.createElement(V,null))}),Z=a(12),ee=a(27),te=a.n(ee),ae=Object(E.b)({currentUser:w}),ne=Object(l.b)(ae)((function(e){var t=e.currentUser;return r.a.createElement(Z.a,{className:"".concat(te.a.header," justify-content-end"),activeKey:"/"},r.a.createElement(Z.a.Item,{className:te.a.options},r.a.createElement(Z.a.Link,{href:"/"},"Home")),t?r.a.createElement(Z.a.Item,{className:te.a.options},r.a.createElement(Z.a.Link,{href:"/".concat(t.displayName),eventKey:"link-profile"},"Your profile")):r.a.createElement(Z.a.Item,{className:te.a.options},r.a.createElement(Z.a.Link,{href:"/about",eventKey:"link-about"},"About")),t?r.a.createElement(Z.a.Item,{className:te.a.options},r.a.createElement(Z.a.Link,{onClick:function(){return T.signOut()},eventKey:"link-sign-out"},"Sign Out")):r.a.createElement(Z.a.Item,{className:te.a.options},r.a.createElement(Z.a.Link,{href:"/signin",eventKey:"link-sign-in"},"Sign In")))})),re="SET_CURRENT_USER",oe="ADD_NOTICE",ce="LOAD_NOTICE_BOARD",le=(a(101),function(e){Object(f.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).unsubscibeFromAuth=null,e.unsubscribeSnapshotFromComponent=null,e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setCurrentUser,a=e.loadNoticeBoard;this.unsubscibeFromAuth=T.onAuthStateChanged(function(){var e=Object(d.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}return e.next=3,B(a);case 3:e.sent.onSnapshot((function(e){return t(Object(m.a)({id:e.id},e.data()))}));case 5:t(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var n=D.collection("notices");this.unsubscribeSnapshotFromComponent=n.onSnapshot(function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.docs.map((function(e){return e.data()})),a(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.unsubscibeFromAuth(),this.unsubscribeSnapshotFromComponent()}},{key:"render",value:function(){var e=this.props.currentUser;return r.a.createElement(g.a,null,r.a.createElement(ne,null),r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:"/",component:M}),r.a.createElement(v.b,{exact:!0,path:"/about",component:z}),r.a.createElement(v.b,{exact:!0,path:"/signin",render:function(){return e?r.a.createElement(v.a,{to:"/"}):r.a.createElement(X,null)}}),r.a.createElement(v.b,{path:"/:userName",component:H})))}}]),a}(r.a.Component)),ie=Object(E.b)({currentUser:w}),se=Object(l.b)(ie,(function(e){return{setCurrentUser:function(t){return e(function(e){return{type:re,payload:e}}(t))},loadNoticeBoard:function(t){return e(function(e){return{type:ce,payload:e}}(t))}}}))(le);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ue=a(13),me=a(71),de=a.n(me),pe=a(46),he=a(72),be=a.n(he),fe={currentUser:null},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return Object(m.a)({},e,{currentUser:t.payload});default:return e}},ve=a(75),Ee={notices:[]},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return Object.assign({},e,{notices:[t.payload].concat(Object(ve.a)(e.notices))});case ce:return Object(m.a)({},e,{notices:t.payload});default:return e}},we={key:"root",storage:be.a,whitelist:["noticeBoard"]},Oe=Object(ue.c)({user:ge,noticeBoard:ye}),je=Object(pe.a)(we,Oe),Ne=[de.a],Ce=Object(ue.d)(je,ue.a.apply(void 0,Ne)),ke=Object(pe.b)(Ce);c.a.render(r.a.createElement(l.a,{store:Ce},r.a.createElement(i.a,{persistor:ke},r.a.createElement(se,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},27:function(e,t,a){e.exports={header:"header_header__W69nv","logo-container":"header_logo-container__28DUj",brandName:"header_brandName__3Bvul",options:"header_options__1KheW"}},59:function(e,t,a){},77:function(e,t,a){e.exports=a(105)},87:function(e,t,a){},94:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.43b78dff.chunk.js.map